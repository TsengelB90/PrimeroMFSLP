{"version":3,"file":"index.modern.js","sources":["../src/NepaliDatePicker/Types.ts","../src/NepaliDatePicker/Config/ConfigTypes.ts","../src/NepaliDatePicker/Config/ConfigStoreReducer.ts","../src/NepaliDatePicker/Config/ConfigContext.ts","../src/NepaliDatePicker/Config/ConfigProvider.tsx","../src/NepaliDatePicker/Config/useConfig.ts","../src/NepaliDatePicker/Config/CalenderConfig.ts","../src/NepaliDatePicker/Config/CalenderData.ts","../src/NepaliDatePicker/Utils/DateValidations.ts","../src/NepaliDatePicker/Utils/common.ts","../src/NepaliDatePicker/Locale/translations.ts","../src/NepaliDatePicker/Locale/useTrans.ts","../src/NepaliDatePicker/Calender/components/CalenderController.tsx","../src/NepaliDatePicker/Calender/components/DayPicker/DayPickerBody.tsx","../src/NepaliDatePicker/Calender/components/DayPicker/DayPickerHeader.tsx","../src/NepaliDatePicker/Calender/components/DayPicker/DayPicker.tsx","../src/NepaliDatePicker/DropDown/DropDown.tsx","../src/NepaliDatePicker/Calender/components/YearPicker.tsx","../src/NepaliDatePicker/Calender/Calender.tsx","../src/NepaliDatePicker/NepaliDatePicker.tsx","../src/NepaliDatePicker/index.tsx"],"sourcesContent":["import React, { HTMLAttributes } from \"react\"\n\nexport type voidFunction = () => void\n\nexport const ENGLISH = \"en\"\nexport const NEPALI = \"ne\"\nexport const BS = \"BS\"\nexport const AD = \"AD\"\n\nexport type localeType = \"en\" | \"ne\"\n\nexport interface NepaliDatePickerOptions {\n    closeOnSelect: boolean\n    calenderLocale: localeType\n    valueLocale: localeType\n}\nexport interface INepaliDatePicker {\n    value: string\n    className: HTMLAttributes<HTMLDivElement>[\"className\"]\n    inputClassName: HTMLAttributes<HTMLInputElement>[\"className\"]\n    onChange: (date: string) => void\n    onSelect?: (value: string) => void\n    options: NepaliDatePickerOptions\n    componentProps?: object\n    resetButtonText: string\n    resetButtonProps?: object\n    CalendarWrapper: React.ReactNode\n}\n\nexport interface NepaliDatePickerProps {\n    value?: INepaliDatePicker[\"value\"]\n    className?: INepaliDatePicker[\"className\"]\n    inputClassName?: INepaliDatePicker[\"inputClassName\"]\n    onChange?: INepaliDatePicker[\"onChange\"]\n    onSelect?: INepaliDatePicker[\"onSelect\"]\n    options?: {\n        closeOnSelect?: NepaliDatePickerOptions[\"closeOnSelect\"]\n        calenderLocale?: NepaliDatePickerOptions[\"calenderLocale\"]\n        valueLocale?: NepaliDatePickerOptions[\"valueLocale\"]\n    }\n    componentProps?: INepaliDatePicker[\"componentProps\"]\n    resetButtonText: INepaliDatePicker[\"resetButtonText\"]\n    resetButtonProps?: INepaliDatePicker[\"resetButtonProps\"]\n    CalendarWrapper?: INepaliDatePicker[\"CalendarWrapper\"]\n}\n\nexport interface NepaliDatepickerEvents {\n    change: (value: string) => void\n    yearSelect?: (year: number) => void\n    reset: () => void\n    monthSelect?: ({ year, month }: YearMonth) => void\n    daySelect?: ({ year, month, day }: YearMonthDate) => void\n    previousMonthSelect?: ({ month, year }: YearMonth) => void\n    nextMonthSelect?: ({ year, month }: YearMonth) => void\n    todaySelect?: ({ year, month, day }: YearMonthDate) => void\n}\n\nexport interface ParsedDate {\n    bsYear: number\n    bsMonth: number\n    bsDay: number\n    weekDay: number\n    adDate: Date\n    numberOfDaysInBSMonth: number\n    firstAdDayInBSMonth: Date\n}\n\nexport const parsedDateInitialValue: ParsedDate = {\n    adDate: new Date(),\n    bsDay: 0,\n    bsMonth: 0,\n    bsYear: 0,\n    firstAdDayInBSMonth: new Date(),\n    numberOfDaysInBSMonth: 0,\n    weekDay: 0,\n}\n\nexport interface SplittedDate {\n    year: number\n    month: number\n    day: number\n}\n\nexport type YearMonthDate = SplittedDate\n\nexport interface YearMonth {\n    year: number\n    month: number\n}\n","import { localeType } from \"../Types\"\n\nexport const SET_CONFIG: string = \"set_config\"\n\nexport interface ConfigState {\n    currentLocale: localeType\n}\n\nexport type ConfigValue = localeType\n\nexport interface ConfigAction {\n    type: typeof SET_CONFIG\n    key: string\n    value: ConfigValue\n}\n","import { NEPALI } from \"../Types\"\nimport { ConfigAction, ConfigState, SET_CONFIG } from \"./ConfigTypes\"\n\nexport const initialState: ConfigState = {\n    currentLocale: NEPALI,\n}\n\nconst ConfigReducer = (state: ConfigState = initialState, action: ConfigAction): ConfigState => {\n    if (action.type === SET_CONFIG) {\n        return { ...state, [action.key]: action.value }\n    }\n\n    return state\n}\n\nexport default ConfigReducer\n","import { createContext } from \"react\"\nimport { initialState } from \"./ConfigStoreReducer\"\nimport { ConfigAction, ConfigState } from \"./ConfigTypes\"\n\nconst ConfigContext = createContext<{\n    dispatch: (action: ConfigAction) => void\n    state: ConfigState\n}>({\n    dispatch: () => null,\n    state: initialState,\n})\n\nexport default ConfigContext\n","import React, { FunctionComponent, useReducer } from \"react\"\nimport ConfigContext from \"./ConfigContext\"\nimport ConfigStoreReducer, { initialState } from \"./ConfigStoreReducer\"\n\ninterface ConfigProviderProps {\n    children: React.ReactNode\n}\n\nconst ConfigProvider: FunctionComponent<ConfigProviderProps> = ({ children }) => {\n    const [state, dispatch] = useReducer(ConfigStoreReducer, initialState)\n    const contextValue = { state, dispatch }\n\n    return <ConfigContext.Provider value={contextValue}>{children}</ConfigContext.Provider>\n}\n\nexport default ConfigProvider\n","import { useContext } from \"react\"\nimport ConfigContext from \"./ConfigContext\"\nimport { ConfigState, ConfigValue, SET_CONFIG } from \"./ConfigTypes\"\n\nconst useConfig = () => {\n    const { state, dispatch } = useContext(ConfigContext)\n\n    function setConfig(key: keyof ConfigState, value: ConfigValue) {\n        dispatch({\n            key,\n            type: SET_CONFIG,\n            value,\n        })\n    }\n\n    function getConfig<T>(key: keyof ConfigState): T {\n        return state[key] as any\n    }\n\n    return { setConfig, getConfig }\n}\n\nexport default useConfig\n","export default {\n    maxBSYear: 2100,\n    minBSYear: 1970,\n\n    outputSeparator: \"-\",\n}\n","export const months = {\n    en: [\n        \"Baisakh\",\n        \"Jestha\",\n        \"Asar\",\n        \"Shrawan\",\n        \"Bhadra\",\n        \"Asoj\",\n        \"Kartik\",\n        \"Mangsir\",\n        \"Pouse\",\n        \"Magh\",\n        \"Falgun\",\n        \"Chaitra\",\n    ],\n    ne: [\"बैशाख\", \"जेठ\", \"असार\", \"सावन\", \"भदौ\", \"असोज\", \"कार्तिक\", \"मंसिर\", \"पौष\", \"माघ\", \"फागुन\", \"चैत\"],\n}\n\nexport const weeks = {\n    en: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n    ne: [\"आईत\", \"सोम\", \"मंगल\", \"बुध\", \"बिही\", \"शुक्र\", \"शनि\"],\n}\n\nexport const maxBSYear = 2100\nexport const minBSYear = 1970\n\nexport const bsMonthMaxDays = [\n    [30, 31],\n    [31, 32],\n    [31, 32],\n    [31, 32],\n    [31, 32],\n    [30, 31],\n    [29, 30],\n    [29, 30],\n    [29, 30],\n    [29, 30],\n    [29, 30],\n    [30, 31],\n]\n\nexport const bsMonthCalculatedData = [\n    [0, 1, 1, 22, 1, 3, 1, 1, 1, 3, 1, 22, 1, 3, 1, 3, 1, 22, 1, 3, 1, 19, 1, 3, 1, 1, 3, 1, 2, 2, 1, 3, 1],\n    [\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        3,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        1,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        1,\n        2,\n    ],\n    [\n        0,\n        1,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        3,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        1,\n        1,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        1,\n        2,\n    ],\n    [\n        1,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        2,\n        2,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        1,\n        2,\n    ],\n    [59, 1, 26, 1, 28, 1, 2, 1, 12],\n    [\n        0,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        5,\n        1,\n        1,\n        2,\n        2,\n        1,\n        3,\n        1,\n        2,\n        1,\n        2,\n    ],\n    [0, 12, 1, 3, 1, 3, 1, 5, 1, 11, 1, 3, 1, 3, 1, 18, 1, 3, 1, 3, 1, 18, 1, 3, 1, 3, 1, 27, 1, 2],\n    [\n        1,\n        2,\n        2,\n        2,\n        2,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        3,\n        1,\n        3,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        2,\n        2,\n        2,\n        15,\n        2,\n        4,\n    ],\n    [\n        0,\n        1,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        3,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        15,\n        2,\n        4,\n    ],\n    [\n        1,\n        1,\n        3,\n        1,\n        3,\n        1,\n        14,\n        1,\n        3,\n        1,\n        1,\n        1,\n        3,\n        1,\n        14,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        18,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        14,\n        1,\n        3,\n        15,\n        1,\n        2,\n        1,\n        1,\n    ],\n    [\n        0,\n        1,\n        1,\n        3,\n        1,\n        3,\n        1,\n        10,\n        1,\n        3,\n        1,\n        3,\n        1,\n        1,\n        1,\n        3,\n        1,\n        3,\n        1,\n        10,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        14,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        10,\n        1,\n        20,\n        1,\n        1,\n        1,\n    ],\n    [\n        1,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        3,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        3,\n        1,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        2,\n        1,\n        3,\n        1,\n        3,\n        1,\n        20,\n        3,\n    ],\n]\n","import { CalenderConfig } from \"../Config\"\n\nexport const validateAdYear = (year: number) => {\n    const minAdYear = CalenderConfig.minBSYear - 57\n    const maxAdYear = CalenderConfig.maxBSYear - 57\n\n    if (year < minAdYear || year > maxAdYear) {\n        throw new RangeError(`AD year should be in range of ${minAdYear} to ${maxAdYear}`)\n    }\n}\n\nexport const validateAdMonth = (month: number) => {\n    if (month < 1 || month > 12) {\n        throw new RangeError(\"AD month should be in range of 1 to 12\")\n    }\n}\n\nexport const validateAdDay = (day: number) => {\n    if (day < 1 || day > 31) {\n        throw new RangeError(\"AD day should be in range of 1 to 31\")\n    }\n}\n\nexport const validateBsYear = (year: number) => {\n    const midBsYear = CalenderConfig.minBSYear\n    const maxBsYear = CalenderConfig.maxBSYear\n\n    if (year < midBsYear || year > maxBsYear) {\n        throw new RangeError(`BS year should be in range of ${midBsYear} to ${maxBsYear}`)\n    }\n}\n\nexport const validateBsMonth = (month: number) => {\n    if (month < 1 || month > 12) {\n        throw new RangeError(\"BS month should be in range of 1 to 12\")\n    }\n}\n\nexport const validateBsDay = (day: number) => {\n    if (day < 1 || day > 32) {\n        throw new RangeError(\"BS day should be in range of 1 to 32\")\n    }\n}\n","import { BSToAD } from \"bikram-sambat-js\"\nimport { CalenderData } from \"../Config\"\nimport { BS, ParsedDate, SplittedDate, voidFunction } from \"../Types\"\nimport {\n    validateAdDay,\n    validateAdMonth,\n    validateAdYear,\n    validateBsDay,\n    validateBsMonth,\n    validateBsYear,\n} from \"./DateValidations\"\n\nexport const range = (start: number, end: number, step: number = 1): number[] => {\n    const list: number[] = []\n\n    for (let i: number = start; i <= end; i = i + step) {\n        list.push(i)\n    }\n\n    return list\n}\n\nexport const zeroPad = (num: number): string => `${num > 9 ? num : \"0\" + num}`\n\nexport const executionDelegation = (execution: voidFunction, delegatedExecution: voidFunction) => {\n    new Promise((resolve) => {\n        execution()\n        resolve()\n    }).then(() => {\n        delegatedExecution()\n    })\n}\n\nexport const splitDate = (date: string, separator: string = \"-\"): SplittedDate => {\n    const [year, month, day] = date.split(separator)\n\n    return {\n        day: parseInt(day, 10),\n        month: parseInt(month, 10),\n        year: parseInt(year, 10),\n    }\n}\n\nexport const stitchDate = (date: SplittedDate, separator: string = \"-\"): string => {\n    return `${date.year}${separator}${zeroPad(date.month)}${separator}${zeroPad(date.day)}`\n}\n\nexport const validateDateObject = (date: SplittedDate, type: string = BS) => {\n    const { year, month, day } = date\n\n    if (type === BS) {\n        validateBsYear(year)\n        validateBsMonth(month)\n        validateBsDay(day)\n\n        return\n    }\n\n    validateAdYear(year)\n    validateAdMonth(month)\n    validateAdDay(day)\n}\n\nexport const getNumberOfDaysInBSMonth = (yearMonth: { year: number; month: number }): number => {\n    const { year, month } = yearMonth\n    validateBsYear(year)\n    validateBsMonth(month)\n\n    let yearCount = 0\n    const totalYears = year + 1 - CalenderData.minBSYear\n    const bsMonthData: number[] = CalenderData.bsMonthCalculatedData[month - 1]\n\n    return bsMonthData.reduce((numberOfDays: number, monthData: number, index: number) => {\n        if (monthData === 0 || numberOfDays !== 0) {\n            return numberOfDays\n        }\n\n        const bsMonthUpperDaysIndex = index % 2\n        yearCount += monthData\n        if (totalYears > yearCount) {\n            return numberOfDays\n        }\n\n        if ((year === 2085 && month === 5) || (year === 2088 && month === 5)) {\n            return CalenderData.bsMonthMaxDays[month - 1][bsMonthUpperDaysIndex] - 2\n        }\n\n        return CalenderData.bsMonthMaxDays[month - 1][bsMonthUpperDaysIndex]\n    }, 0)\n}\n\nexport const parseBSDate = (date: string, separator: string = \"-\"): ParsedDate => {\n    const { year, month, day }: SplittedDate = splitDate(date, separator)\n\n    validateDateObject({ year, month, day })\n\n    const adDate = new Date(BSToAD(date))\n    const firstAdDateInBSMonth = new Date(BSToAD(stitchDate({ year, month, day: 1 }, separator)))\n    const numberOfDaysInMonth = getNumberOfDaysInBSMonth({ year, month })\n\n    return {\n        adDate,\n        bsDay: day,\n        bsMonth: month,\n        bsYear: year,\n        firstAdDayInBSMonth: firstAdDateInBSMonth,\n        numberOfDaysInBSMonth: numberOfDaysInMonth,\n        weekDay: adDate.getDay(),\n    }\n}\n\nexport const childOf = (childNode: any, parentNode: any): boolean => parentNode.contains(childNode)\n","export default {\n    previous: { en: \"Previous\", ne: \"अघिल्लो\" },\n    next: { en: \"Next\", ne: \"अर्को\" },\n    today: { en: \"Today\", ne: \"आज\" },\n}\n","import { englishToNepaliNumber, nepaliToEnglishNumber } from \"nepali-number\"\nimport { ENGLISH, localeType } from \"../Types\"\nimport translations from \"./translations\"\n\nconst useTrans = (currentLocale: localeType) => {\n    return {\n        trans: (key: string, locale?: localeType) => {\n            if (!translations.hasOwnProperty(key)) {\n                return key\n            }\n\n            return translations[key][locale || currentLocale]\n        },\n\n        numberTrans: (num: number | string, locale?: localeType) => {\n            return `${locale || currentLocale}` === ENGLISH\n                ? nepaliToEnglishNumber(num as string)\n                : englishToNepaliNumber(num)\n        },\n    }\n}\n\nexport default useTrans\n","import { IconButton } from \"@mui/material\"\nimport React, { FunctionComponent } from \"react\"\nimport { CalenderData, useConfig } from \"../../Config\"\nimport { useTrans } from \"../../Locale\"\nimport { localeType, ParsedDate } from \"../../Types\"\nimport ArrowBackIos from \"@mui/icons-material/ArrowBackIos\"\nimport ArrowForwardIosIcon from \"@mui/icons-material/ArrowForwardIos\"\n\ninterface CalenderControllerProps {\n    onNextMonth: () => void\n    onPreviousMonth: () => void\n    calenderDate: ParsedDate\n}\n\nconst CalenderController: FunctionComponent<CalenderControllerProps> = (props) => {\n    const { onNextMonth, onPreviousMonth, calenderDate } = props\n    const { getConfig } = useConfig()\n    const { trans, numberTrans } = useTrans(getConfig<localeType>(\"currentLocale\"))\n    const currentMonth = CalenderData.months.ne[calenderDate.bsMonth - 1]\n    const currentYear = numberTrans(calenderDate.bsYear)\n\n    return (\n        <div className='calendar-controller'>\n            <IconButton onClick={onPreviousMonth} aria-label={trans(\"previous\")} size='small'>\n                <ArrowBackIos fontSize='inherit' />\n            </IconButton>\n            <div>\n                {currentMonth} {currentYear}\n            </div>\n\n            <IconButton onClick={onNextMonth} aria-label={trans(\"next\")} size='small'>\n                <ArrowForwardIosIcon fontSize='inherit' />\n            </IconButton>\n        </div>\n    )\n}\n\nexport default CalenderController\n","import { ADToBS } from \"bikram-sambat-js\"\nimport React, { FunctionComponent, useCallback, useMemo } from \"react\"\nimport { CalenderData, useConfig } from \"../../../Config\"\nimport { useTrans } from \"../../../Locale\"\nimport { localeType, ParsedDate, SplittedDate } from \"../../../Types\"\nimport { getNumberOfDaysInBSMonth, range, splitDate } from \"../../../Utils/common\"\n\ninterface DayPickerBodyProps {\n    selectedDate: ParsedDate\n    calenderDate: ParsedDate\n    onSelect: (date: SplittedDate) => void\n}\n\ninterface DayInfo {\n    day: number\n    month: number\n    year: number\n    isCurrentMonth: boolean\n    isToday: boolean\n    isSelected: boolean\n}\n\nconst DayPickerBody: FunctionComponent<DayPickerBodyProps> = ({ selectedDate, calenderDate: date, onSelect }) => {\n    const weeksInMonth = useMemo(\n        () => Math.ceil((date.firstAdDayInBSMonth.getDay() + date.numberOfDaysInBSMonth) / 7) - 1,\n        [date],\n    )\n    const previousMonth = useMemo(() => (date.bsMonth - 1 !== 0 ? date.bsMonth - 1 : 12), [date])\n    const previousYear = useMemo(() => (previousMonth === 12 ? date.bsYear - 1 : date.bsYear), [previousMonth, date])\n    const previousMonthDays = useMemo(\n        () =>\n            previousYear >= CalenderData.minBSYear\n                ? getNumberOfDaysInBSMonth({\n                      month: previousMonth,\n                      year: previousYear,\n                  })\n                : 30,\n        [previousYear],\n    )\n\n    const { getConfig } = useConfig()\n    const { numberTrans } = useTrans(getConfig<localeType>(\"currentLocale\"))\n\n    const getDayInfo = useCallback(\n        (weekNum, weekDayNum): DayInfo => {\n            let day = weekNum * 7 + weekDayNum - date.firstAdDayInBSMonth.getDay()\n            const month = date.bsMonth\n            const year = date.bsYear\n\n            let isCurrentMonth = true\n\n            if (day <= 0) {\n                day = previousMonthDays + day\n                isCurrentMonth = false\n            } else if (day > date.numberOfDaysInBSMonth) {\n                day = day - date.numberOfDaysInBSMonth\n                isCurrentMonth = false\n            }\n\n            const today = splitDate(ADToBS(new Date()))\n\n            const isToday = isCurrentMonth\n                ? today.day === day && today.month === date.bsMonth && today.year === date.bsYear\n                : false\n            const isSelected = isCurrentMonth\n                ? selectedDate.bsDay === day &&\n                  selectedDate.bsMonth === date.bsMonth &&\n                  selectedDate.bsYear === date.bsYear\n                : false\n\n            return { day, month, year, isCurrentMonth, isToday, isSelected }\n        },\n        [date, selectedDate, previousMonthDays],\n    )\n\n    const onDateSelectHandler = useCallback(\n        (dayInfo: DayInfo) => {\n            if (dayInfo.isCurrentMonth) {\n                onSelect({ year: dayInfo.year, month: dayInfo.month, day: dayInfo.day })\n            }\n        },\n        [onSelect],\n    )\n\n    return (\n        <tbody>\n            {range(0, weeksInMonth).map((weekNum) => (\n                <tr key={weekNum}>\n                    {range(1, 7).map((weekDayNum) => {\n                        const dayInfo = getDayInfo(weekNum, weekDayNum)\n\n                        return (\n                            <td\n                                key={weekDayNum}\n                                className={`month-day ${dayInfo.isCurrentMonth ? \"current\" : \"disabled\"} ${\n                                    dayInfo.isToday ? \"today\" : \"\"\n                                } ${dayInfo.isSelected ? \"selected\" : \"\"}`}\n                                onClick={() => onDateSelectHandler(dayInfo)}\n                            >\n                                {numberTrans(dayInfo.day)}\n                            </td>\n                        )\n                    })}\n                </tr>\n            ))}\n        </tbody>\n    )\n}\n\nexport default DayPickerBody\n","import React, { FunctionComponent, useMemo } from \"react\"\nimport { CalenderData, useConfig } from \"../../../Config\"\n\nconst DayPickerHeader: FunctionComponent = () => {\n    const { getConfig } = useConfig()\n    const currentLocale: string = useMemo(() => getConfig(\"currentLocale\"), [getConfig])\n\n    return (\n        <thead>\n            <tr>\n                {CalenderData.weeks[currentLocale].map((weekDay: string, index: number) => (\n                    <td key={index}>{weekDay}</td>\n                ))}\n            </tr>\n        </thead>\n    )\n}\n\nexport default DayPickerHeader\n","import React, { FunctionComponent } from \"react\"\nimport { ParsedDate, SplittedDate } from \"../../../Types\"\nimport DayPickerBody from \"./DayPickerBody\"\nimport DayPickerHeader from \"./DayPickerHeader\"\n\ninterface DayPickerProps {\n    selectedDate: ParsedDate\n    calenderDate: ParsedDate\n    onDaySelect: (date: SplittedDate) => void\n}\n\nconst DayPicker: FunctionComponent<DayPickerProps> = ({ selectedDate, calenderDate, onDaySelect }) => {\n    return (\n        <table>\n            <DayPickerHeader />\n\n            <DayPickerBody selectedDate={selectedDate} calenderDate={calenderDate} onSelect={onDaySelect} />\n        </table>\n    )\n}\n\nexport default DayPicker\n","import React, { FunctionComponent } from \"react\"\nimport { OptionType } from \"./Types\"\n\ninterface DropDownProps {\n    options: OptionType[]\n    value: number\n    onSelect: (selected: OptionType) => void\n}\n\nconst DropDown: FunctionComponent<DropDownProps> = ({ options, value, onSelect }) => {\n    return (\n        <div className='drop-down'>\n            <div className='option-wrapper'>\n                <ul>\n                    {options.map((option, index) => (\n                        <li\n                            key={index}\n                            className={option.value === value ? \"active\" : \"\"}\n                            onClick={() => {\n                                onSelect(option)\n                            }}\n                        >\n                            {option.label}\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default DropDown\n","import React, { FunctionComponent, useMemo, useState } from \"react\"\nimport { useConfig } from \"../../Config\"\nimport { DropDown, OptionType } from \"../../DropDown\"\nimport { useTrans } from \"../../Locale\"\nimport { localeType, ParsedDate } from \"../../Types\"\nimport { range } from \"../../Utils/common\"\n\ninterface YearPickerProps {\n    date: ParsedDate\n    onSelect: (year: number) => void\n}\n\nconst YearPicker: FunctionComponent<YearPickerProps> = ({ date, onSelect }) => {\n    const [showDropdown, setShowDropdown] = useState(false)\n    const { getConfig } = useConfig()\n    const { numberTrans } = useTrans(getConfig<localeType>(\"currentLocale\"))\n\n    const currentYear: OptionType = useMemo((): OptionType => {\n        const year = date.bsYear\n\n        return {\n            label: numberTrans(year),\n            value: year,\n        }\n    }, [date])\n\n    const years: OptionType[] = useMemo(\n        (): OptionType[] =>\n            range(2000, 2099)\n                .reverse()\n                .map(\n                    (year: number): OptionType => ({\n                        label: numberTrans(year),\n                        value: year,\n                    }),\n                ),\n        [],\n    )\n\n    const handleDropdownView = (selected: OptionType) => {\n        setShowDropdown(!showDropdown)\n        onSelect(selected.value)\n    }\n\n    return (\n        <div className='control year'>\n            <DropDown options={years} value={currentYear.value} onSelect={handleDropdownView} />\n        </div>\n    )\n}\n\nexport default YearPicker\n","import { Box, Button, IconButton, DialogActions, DialogContent, DialogTitle, Typography } from \"@mui/material\"\nimport { ADToBS } from \"bikram-sambat-js\"\nimport React, { Fragment, useCallback, useEffect, useState, FunctionComponent, MouseEventHandler } from \"react\"\nimport { localeType, NepaliDatepickerEvents, ParsedDate, parsedDateInitialValue, SplittedDate } from \"../Types\"\nimport { executionDelegation, parseBSDate, stitchDate } from \"../Utils/common\"\nimport CalenderController from \"./components/CalenderController\"\nimport { DayPicker } from \"./components/DayPicker\"\nimport CalendarToday from \"@mui/icons-material/CalendarToday\"\nimport { useTrans } from \"../Locale\"\nimport { useConfig } from \"../Config\"\nimport YearPicker from \"./components/YearPicker\"\n\ninterface CalenderProps {\n    value: string\n    events: NepaliDatepickerEvents\n    resetButtonText: string\n    resetButtonProps?: object\n}\n\nconst Calender: FunctionComponent<CalenderProps> = ({ value, events, resetButtonText, resetButtonProps }) => {\n    const [isInitialized, setIsInitialized] = useState<boolean>(false)\n    const [showYearPicker, setShowYearPicker] = useState<boolean>(false)\n    const [selectedDate, setSelectedDate] = useState<ParsedDate>(parsedDateInitialValue)\n    const [calenderDate, setCalenderDate] = useState<ParsedDate>(parsedDateInitialValue)\n\n    const { getConfig } = useConfig()\n    const { trans, numberTrans } = useTrans(getConfig<localeType>(\"currentLocale\"))\n\n    useEffect(() => {\n        const parsedDateValue = parseBSDate(value || ADToBS(new Date()))\n\n        if (value) {\n            setSelectedDate(parsedDateValue)\n        }\n\n        setCalenderDate(parsedDateValue)\n\n        setIsInitialized(true)\n    }, [value])\n\n    useEffect(() => {\n        if (isInitialized && selectedDate.bsYear > 0 && selectedDate.bsMonth > 0 && selectedDate.bsDay > 0) {\n            events.change(\n                stitchDate({\n                    year: selectedDate.bsYear,\n                    month: selectedDate.bsMonth,\n                    day: selectedDate.bsDay,\n                }),\n            )\n        }\n    }, [selectedDate, isInitialized])\n\n    const onPreviousMonthHandler = useCallback(() => {\n        executionDelegation(\n            () => {\n                setCalenderDate((date) => {\n                    let year = date.bsYear\n                    let month = date.bsMonth - 1\n\n                    if (month < 1) {\n                        month = 12\n                        year--\n                    }\n\n                    return parseBSDate(\n                        stitchDate(\n                            {\n                                day: date.bsDay,\n                                month,\n                                year,\n                            },\n                            \"-\",\n                        ),\n                    )\n                })\n            },\n            () => {\n                if (events.previousMonthSelect) {\n                    events.previousMonthSelect({ month: calenderDate.bsMonth, year: calenderDate.bsYear })\n                }\n            },\n        )\n    }, [])\n\n    const onNextMonthClickHandler = useCallback(() => {\n        executionDelegation(\n            () => {\n                setCalenderDate((date) => {\n                    let year = date.bsYear\n                    let month = date.bsMonth + 1\n\n                    if (month > 12) {\n                        month = 1\n                        year++\n                    }\n\n                    return parseBSDate(\n                        stitchDate(\n                            {\n                                day: date.bsDay,\n                                month,\n                                year,\n                            },\n                            \"-\",\n                        ),\n                    )\n                })\n            },\n            () => {\n                if (events.nextMonthSelect) {\n                    events.nextMonthSelect({ year: calenderDate.bsYear, month: calenderDate.bsMonth })\n                }\n            },\n        )\n    }, [])\n\n    const onTodayClickHandler = useCallback(() => {\n        const today = parseBSDate(ADToBS(new Date()))\n\n        executionDelegation(\n            () => {\n                setCalenderDate(today)\n                setSelectedDate(today)\n            },\n            () => {\n                if (events.todaySelect) {\n                    events.todaySelect({ year: today.bsYear, month: today.bsMonth, day: today.bsDay })\n                }\n            },\n        )\n    }, [])\n\n    const onYearSelectHandler = useCallback(\n        (year: SplittedDate[\"year\"]) => {\n            executionDelegation(\n                () => {\n                    setCalenderDate(\n                        parseBSDate(\n                            stitchDate({\n                                year,\n                                month: calenderDate.bsMonth,\n                                day: calenderDate.bsDay,\n                            }),\n                        ),\n                    )\n                },\n                () => {\n                    if (events.yearSelect) {\n                        events.yearSelect(year)\n                    }\n\n                    setShowYearPicker(false)\n                },\n            )\n        },\n        [calenderDate],\n    )\n\n    // const onMonthSelectHandler = useCallback(\n    //     (month) => {\n    //         executionDelegation(\n    //             () => {\n    //                 setCalenderDate(\n    //                     parseBSDate(\n    //                         stitchDate({\n    //                             year: calenderDate.bsYear,\n    //                             month,\n    //                             day: calenderDate.bsDay,\n    //                         }),\n    //                     ),\n    //                 )\n    //             },\n    //             () => {\n    //                 if (events.monthSelect) {\n    //                     events.monthSelect(month)\n    //                 }\n    //             },\n    //         )\n    //     },\n    //     [calenderDate],\n    // )\n\n    const onDaySelectHandler = useCallback((date: SplittedDate) => {\n        executionDelegation(\n            () => {\n                const newDate = parseBSDate(stitchDate(date))\n\n                setCalenderDate(newDate)\n                setSelectedDate(newDate)\n            },\n            () => {\n                if (events.daySelect) {\n                    events.daySelect(date)\n                }\n            },\n        )\n    }, [])\n\n    const handleReset: MouseEventHandler<HTMLButtonElement> = (event) => {\n        event.preventDefault()\n        events.reset()\n    }\n\n    const resetButtonTxt = resetButtonText || \"Reset\"\n\n    const currentYear = numberTrans(calenderDate.bsYear)\n\n    return (\n        <Fragment>\n            <DialogTitle className='calender-header-container'>\n                <Box className='calender-header' bgcolor='primary.main'>\n                    <Button onClick={() => setShowYearPicker(true)} size='small' className='yearBtn'>\n                        {currentYear}\n                    </Button>\n                    <Typography variant='h4'>{numberTrans(value || ADToBS(new Date()))}</Typography>\n                </Box>\n            </DialogTitle>\n            <DialogContent className='calender'>\n                <div className='calender-wrapper'>\n                    {isInitialized &&\n                        (showYearPicker ? (\n                            <YearPicker date={calenderDate} onSelect={onYearSelectHandler} />\n                        ) : (\n                            <Fragment>\n                                <CalenderController\n                                    onPreviousMonth={onPreviousMonthHandler}\n                                    onNextMonth={onNextMonthClickHandler}\n                                    calenderDate={calenderDate}\n                                />\n\n                                <DayPicker\n                                    selectedDate={selectedDate}\n                                    calenderDate={calenderDate}\n                                    onDaySelect={onDaySelectHandler}\n                                />\n                            </Fragment>\n                        ))}\n                </div>\n            </DialogContent>\n            <DialogActions className='calender-actions'>\n                <IconButton onClick={onTodayClickHandler} size='small' color='primary' aria-label={trans(\"today\")}>\n                    <CalendarToday fontSize='inherit' />\n                </IconButton>\n                <Button onClick={handleReset} size='small' {...resetButtonProps}>\n                    {resetButtonTxt}\n                </Button>\n            </DialogActions>\n        </Fragment>\n    )\n}\n\nexport default Calender\n","import React, { FunctionComponent, useCallback, useEffect, useRef, useState } from \"react\"\nimport { Calender } from \"./Calender\"\nimport { useConfig } from \"./Config\"\nimport { useTrans } from \"./Locale\"\nimport { ENGLISH, INepaliDatePicker, localeType, NepaliDatepickerEvents, SplittedDate } from \"./Types\"\nimport { executionDelegation, stitchDate } from \"./Utils/common\"\nimport Dialog from \"@mui/material/Dialog\"\nimport { TextField } from \"@mui/material\"\n\nconst NepaliDatePicker: FunctionComponent<INepaliDatePicker> = (props) => {\n    const {\n        className,\n        inputClassName,\n        value,\n        onChange,\n        onSelect,\n        options,\n        componentProps,\n        resetButtonText,\n        resetButtonProps,\n    } = props\n\n    const nepaliDatePickerWrapper = useRef<HTMLDivElement>(null)\n    const nepaliDatePickerInput = useRef<HTMLInputElement>(null)\n\n    const [date, setDate] = useState<string>(\"\")\n    const [showCalendar, setShowCalendar] = useState<boolean>(false)\n\n    const { setConfig, getConfig } = useConfig()\n    const { numberTrans } = useTrans(getConfig<localeType>(\"currentLocale\"))\n\n    const toEnglish = useCallback((val: string): string => numberTrans(val, ENGLISH), [])\n    const returnDateValue = useCallback((val: string): string => numberTrans(val, options.valueLocale), [\n        options.valueLocale,\n    ])\n\n    useEffect(() => {\n        setConfig(\"currentLocale\", options.calenderLocale)\n    }, [options.calenderLocale])\n\n    useEffect(() => {\n        setDate(toEnglish(value))\n    }, [value])\n\n    // const handleClickOutside = useCallback((event: any) => {\n    //     if (nepaliDatePickerWrapper.current && childOf(event.target, nepaliDatePickerWrapper.current)) {\n    //         return\n    //     }\n\n    //     setShowCalendar(false)\n    // }, [])\n\n    // useLayoutEffect(() => {\n    //     if (showCalendar) {\n    //         document.addEventListener(\"mousedown\", handleClickOutside)\n    //     }\n\n    //     return () => {\n    //         document.removeEventListener(\"mousedown\", handleClickOutside)\n    //     }\n    // }, [showCalendar])\n\n    // useLayoutEffect(() => {\n    //     if (showCalendar && nepaliDatePickerWrapper.current) {\n    //         const nepaliDatePicker = nepaliDatePickerWrapper.current.getBoundingClientRect()\n    //         const screenHeight = window.innerHeight\n\n    //         const calender: HTMLDivElement | null = nepaliDatePickerWrapper.current.querySelector(\".calender\")\n    //         if (calender) {\n    //             setTimeout(() => {\n    //                 const calenderHeight = calender.clientHeight\n\n    //                 if (calenderHeight + nepaliDatePicker.bottom > screenHeight) {\n    //                     if (calenderHeight < nepaliDatePicker.top) {\n    //                         calender.style.bottom = `${nepaliDatePicker.height}px`\n    //                     }\n    //                 }\n    //             }, 0)\n    //         }\n    //     }\n    // }, [showCalendar])\n\n    const handleSetShowCalendar = (visible = false) => {\n        setShowCalendar(visible)\n    }\n\n    const handleOnChange = useCallback(\n        (changedDate: string) => {\n            executionDelegation(\n                () => {\n                    setDate(changedDate)\n                },\n                () => {\n                    if (onChange) {\n                        onChange(returnDateValue(changedDate))\n                    }\n                },\n            )\n        },\n        [onChange],\n    )\n\n    const handleOnDaySelect = useCallback(\n        (selectedDate: SplittedDate) => {\n            executionDelegation(\n                () => {\n                    if (options.closeOnSelect) {\n                        setShowCalendar(false)\n                    }\n                },\n                () => {\n                    if (onSelect) {\n                        onSelect(returnDateValue(stitchDate(selectedDate)))\n                    }\n                },\n            )\n        },\n        [onSelect],\n    )\n\n    const handleReset = () => {\n        executionDelegation(\n            () => {\n                if (options.closeOnSelect) {\n                    setShowCalendar(false)\n                }\n            },\n            () => {\n                handleOnChange(\"\")\n            },\n        )\n    }\n\n    const datepickerEvents: NepaliDatepickerEvents = {\n        change: handleOnChange,\n        daySelect: handleOnDaySelect,\n        todaySelect: handleOnDaySelect,\n        reset: handleReset,\n    }\n\n    return (\n        <div>\n            <div ref={nepaliDatePickerWrapper} className={`nepali-date-picker ${className}`}>\n                <TextField\n                    onClick={() => handleSetShowCalendar(true)}\n                    inputRef={nepaliDatePickerInput}\n                    value={numberTrans(date)}\n                    InputProps={{\n                        readOnly: true,\n                    }}\n                    className={inputClassName}\n                    {...componentProps}\n                />\n            </div>\n            <Dialog open={showCalendar} onClose={() => handleSetShowCalendar(false)} scroll='paper'>\n                <Calender\n                    value={date}\n                    events={datepickerEvents}\n                    resetButtonText={resetButtonText}\n                    resetButtonProps={resetButtonProps}\n                />\n            </Dialog>\n        </div>\n    )\n}\n\nexport default NepaliDatePicker\n","import React, { FunctionComponent, useMemo } from \"react\"\nimport \"../NepaliDatePicker.scss\"\nimport { ConfigProvider } from \"./Config\"\nimport NepaliDatePicker from \"./NepaliDatePicker\"\nimport { ENGLISH, INepaliDatePicker, NEPALI, NepaliDatePickerProps } from \"./Types\"\n\nconst NepaliDatePickerWrapper: FunctionComponent<NepaliDatePickerProps> = (props) => {\n    const calenderOptions = useMemo(\n        () => ({\n            closeOnSelect: true,\n            calenderLocale: NEPALI,\n            valueLocale: ENGLISH,\n            ...props.options,\n        }),\n        [props.options],\n    )\n\n    return (\n        <ConfigProvider>\n            <NepaliDatePicker {...({ ...props, options: calenderOptions } as INepaliDatePicker)} />\n        </ConfigProvider>\n    )\n}\n\nNepaliDatePickerWrapper.defaultProps = {\n    className: \"\",\n    inputClassName: \"\",\n    value: \"\",\n    onChange: () => null,\n    onSelect: () => null,\n    options: {},\n    componentProps: {},\n}\n\nexport default NepaliDatePickerWrapper\n"],"names":["ENGLISH","NEPALI","BS","parsedDateInitialValue","adDate","Date","bsDay","bsMonth","bsYear","firstAdDayInBSMonth","numberOfDaysInBSMonth","weekDay","SET_CONFIG","initialState","currentLocale","ConfigReducer","state","action","type","_extends2","_extends","key","value","ConfigContext","createContext","dispatch","ConfigProvider","_ref","children","_useReducer","useReducer","ConfigStoreReducer","contextValue","React","Provider","useConfig","_useContext","useContext","setConfig","getConfig","maxBSYear","minBSYear","outputSeparator","months","en","ne","weeks","bsMonthMaxDays","bsMonthCalculatedData","validateAdYear","year","minAdYear","CalenderConfig","maxAdYear","RangeError","validateAdMonth","month","validateAdDay","day","validateBsYear","midBsYear","maxBsYear","validateBsMonth","validateBsDay","range","start","end","step","list","i","push","zeroPad","num","executionDelegation","execution","delegatedExecution","Promise","resolve","then","splitDate","date","separator","_date$split","split","parseInt","stitchDate","validateDateObject","getNumberOfDaysInBSMonth","yearMonth","yearCount","totalYears","CalenderData","bsMonthData","reduce","numberOfDays","monthData","index","bsMonthUpperDaysIndex","parseBSDate","_splitDate","BSToAD","firstAdDateInBSMonth","numberOfDaysInMonth","getDay","previous","next","today","useTrans","trans","locale","translations","hasOwnProperty","numberTrans","nepaliToEnglishNumber","englishToNepaliNumber","CalenderController","props","onNextMonth","onPreviousMonth","calenderDate","_useConfig","_useTrans","currentMonth","currentYear","className","IconButton","onClick","size","ArrowBackIos","fontSize","ArrowForwardIosIcon","DayPickerBody","selectedDate","onSelect","weeksInMonth","useMemo","Math","ceil","previousMonth","previousYear","previousMonthDays","getDayInfo","useCallback","weekNum","weekDayNum","isCurrentMonth","ADToBS","isToday","isSelected","onDateSelectHandler","dayInfo","map","DayPickerHeader","DayPicker","onDaySelect","DropDown","options","option","label","YearPicker","_useState","useState","showDropdown","setShowDropdown","years","reverse","handleDropdownView","selected","Calender","events","resetButtonText","resetButtonProps","isInitialized","setIsInitialized","_useState2","showYearPicker","setShowYearPicker","_useState3","setSelectedDate","_useState4","setCalenderDate","useEffect","parsedDateValue","change","onPreviousMonthHandler","previousMonthSelect","onNextMonthClickHandler","nextMonthSelect","onTodayClickHandler","todaySelect","onYearSelectHandler","yearSelect","onDaySelectHandler","newDate","daySelect","handleReset","event","preventDefault","reset","resetButtonTxt","Fragment","DialogTitle","Box","bgcolor","Button","Typography","variant","DialogContent","DialogActions","color","CalendarToday","NepaliDatePicker","inputClassName","onChange","componentProps","nepaliDatePickerWrapper","useRef","nepaliDatePickerInput","setDate","showCalendar","setShowCalendar","toEnglish","val","returnDateValue","valueLocale","calenderLocale","handleSetShowCalendar","visible","handleOnChange","changedDate","handleOnDaySelect","closeOnSelect","datepickerEvents","ref","TextField","inputRef","InputProps","readOnly","Dialog","open","onClose","scroll","NepaliDatePickerWrapper","calenderOptions","defaultProps"],"mappings":"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CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,CACJ,EACD,CACI,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,CACJ,EACD,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,EAC/B,CACI,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,CACJ,EACD,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAC/F,CACI,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,CACJ,EACD,CACI,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,CACJ,EACD,CACI,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,CACJ,EACD,CACI,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAE,EACF,CAAC,EACD,EAAE,EACF,CAAC,EACD,CAAC,EACD,CAAC,CACJ,EACD,CACI,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EAC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"}